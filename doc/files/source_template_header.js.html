<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>source/template/header.js - skylinkjs</title>
    <!-- font and icon -->
    <link rel="shortcut icon" type="image/ico" href="../assets/favicon.ico">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700|Source+Sans+Pro" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700|Source+Code+Pro" type="text/css">
    <!-- styling -->
    <link rel="stylesheet" href="../assets/vendor/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/vendor/css/bootstrap-theme.min.css">
    <link href="../assets/vendor/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <!-- scripts -->
    <script src="../assets/vendor/js/jquery.min.js"></script>
    <script src="../assets/vendor/js/bootstrap.min.js"></script>
    <script src="../assets/js/script.js"></script>
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body>

<div id="doc">
  <nav id="hd" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="" class="navbar-brand">
          <img src="../assets/img/logo.svg" />JS<small>Version: 0.6.2</small>
        </a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul id="api-list" class="nav navbar-nav navbar-right">
  <li><a href="https://temasys.github.io">Getting Started</a></li>
  
    <li><a href="../classes/Skylink.html">Documentation</a></li>
  
  <!--<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Classes <span class="caret"></span></a>
    <ul class="dropdown-menu" role="menu">
      
        <li><a href="../classes/Skylink.html">Skylink</a></li>
      
    </ul>
  </li>-->
  <li><a class="btn btn-info btn-navbar" href="http://developer.temasys.com.sg/">Developer Console</a></li>
  <li><a class="btn btn-info btn-navbar" href="http://support.temasys.com.sg/">Support</a></li>
  <!--<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <span class="caret"></span></a>
    <ul class="dropdown-menu" role="menu">
      <li><a href="#api-modules">View all Modules</a></li>
      
    </ul>
  </li>-->
</ul>
<!--<form id="api-tabview" class="navbar-form navbar-right" role="form">
  <div id="api-tabview-filter" class="form-group">
    <input type="search" id="api-filter" placeholder="Type to filter APIs">
  </div>
</form>-->
      </div><!--/.navbar-collapse -->
    </div>
  </nav>
  <div id="bd" class="yui3-g">

      <div class="yui3-u-1-4">

      </div>
      <div class="yui3-u-3-4">
          
          <div class="apidocs">
              <div id="docs-main">
                  <div class="content content-main">
                      <h1 class="file-heading">File: source/template/header.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
(function() {

&#x27;use strict&#x27;;

/* IE &lt; 10 Polyfills */
// Mozilla provided polyfill for Object.keys()
if (!Object.keys) {
  Object.keys = (function() {
    var hasOwnProperty = Object.prototype.hasOwnProperty,
      hasDontEnumBug = !({
        toString: null
      }).propertyIsEnumerable(&#x27;toString&#x27;),
      dontEnums = [
        &#x27;toString&#x27;,
        &#x27;toLocaleString&#x27;,
        &#x27;valueOf&#x27;,
        &#x27;hasOwnProperty&#x27;,
        &#x27;isPrototypeOf&#x27;,
        &#x27;propertyIsEnumerable&#x27;,
        &#x27;constructor&#x27;
      ],
      dontEnumsLength = dontEnums.length;

    return function(obj) {
      if (typeof obj !== &#x27;object&#x27; &amp;&amp; typeof obj !== &#x27;function&#x27; || obj === null) throw new TypeError(&#x27;Object.keys called on non-object&#x27;);

      var result = [];

      for (var prop in obj) {
        if (hasOwnProperty.call(obj, prop)) result.push(prop);
      }

      if (hasDontEnumBug) {
        for (var i = 0; i &lt; dontEnumsLength; i++) {
          if (hasOwnProperty.call(obj, dontEnums[i])) result.push(dontEnums[i]);
        }
      }
      return result;
    }
  })()
}

// Mozilla provided polyfill for Date.getISOString()
(function() {
  function pad(number) {
    if (number &lt; 10) {
      return &#x27;0&#x27; + number;
    }
    return number;
  }

  Date.prototype.toISOString = function() {
    return this.getUTCFullYear() +
      &#x27;-&#x27; + pad(this.getUTCMonth() + 1) +
      &#x27;-&#x27; + pad(this.getUTCDate()) +
      &#x27;T&#x27; + pad(this.getUTCHours()) +
      &#x27;:&#x27; + pad(this.getUTCMinutes()) +
      &#x27;:&#x27; + pad(this.getUTCSeconds()) +
      &#x27;.&#x27; + (this.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +
      &#x27;Z&#x27;;
  };
})();

// addEventListener polyfill 1.0 / Eirik Backer / MIT Licence
(function(win, doc){
  if(win.addEventListener) return; //No need to polyfill

  function docHijack(p){var old = doc[p];doc[p] = function(v){ return addListen(old(v)) }}
  function addEvent(on, fn, self){
    return (self = this).attachEvent(&#x27;on&#x27; + on, function(e){
      var e = e || win.event;
      e.preventDefault  = e.preventDefault  || function(){e.returnValue = false}
      e.stopPropagation = e.stopPropagation || function(){e.cancelBubble = true}
      fn.call(self, e);
    });
  }
  function addListen(obj, i){
    if(i = obj.length)while(i--)obj[i].addEventListener = addEvent;
    else obj.addEventListener = addEvent;
    return obj;
  }

  addListen([doc, win]);
  if(&#x27;Element&#x27; in win)win.Element.prototype.addEventListener = addEvent; //IE8
  else{                                     //IE &lt; 8
    doc.attachEvent(&#x27;onreadystatechange&#x27;, function(){addListen(doc.all)}); //Make sure we also init at domReady
    docHijack(&#x27;getElementsByTagName&#x27;);
    docHijack(&#x27;getElementById&#x27;);
    docHijack(&#x27;createElement&#x27;);
    addListen(doc.all);
  }
})(window, document);

// global clone function
var clone = function (obj) {
  if (obj === null || typeof obj !== &#x27;object&#x27;) {
    return obj;
  }

  var copy = obj.constructor();
  for (var attr in obj) {
    if (obj.hasOwnProperty(attr)) {
      copy[attr] = obj[attr];
    }
  }
  return copy;
};

/**
 * &lt;h2&gt;Before using Skylink&lt;/h2&gt;
 * Please invoke {{#crossLink &quot;Skylink/init:method&quot;}}init(){{/crossLink}} method
 * first to initialise the Application Key before using any functionalities in Skylink.
 *
 * If you do not have an Application Key, you may register for a Skylink platform developer account
 *   [to create one](http://developer.temasys.com.sg/register).
 *
 * To get started you may [visit the getting started page](https://temasys.github.io/how-to/2014/08/08/
 * Getting_started_with_WebRTC_and_SkylinkJS/), or alternatively fork a ready made demo application
 * that uses Skylink Web SDK at [getaroom.io](http://getaroom.io/).
 *
 * For tips on using skylink and troubleshooting you can visit
 *   [our support portal](http://support.temasys.com.sg/support/solutions/folders/5000267498).
 * &lt;hr&gt;
 * &lt;h5&gt;DATA TRANSFER FUNCTIONALITY REQUIREMENTS&lt;/h5&gt;
 * - Requires DataChannel connections to be enabled, and hence if
 *   you have configure &lt;code&gt;enableDataChannel&lt;/code&gt; set to &lt;code&gt;false&lt;/code&gt; in
 *   the &lt;a href=&quot;#method_init&quot;&gt;init()&lt;/a&gt;, this functionality would not work.
 * - New DataChannel connection will be opened for every transfer, which
 *   however if you are connecting with the mobile application built with our mobile SDKs
 *   (&lt;a href=&quot;http://skylink.io/ios/&quot;&gt;iOS&lt;/a&gt; / &lt;a href=&quot;http://skylink.io/android/&quot;&gt;Android&lt;/a&gt;),
 *   it will use only one DataChannel (&lt;code&gt;channelType&lt;/code&gt; being &lt;code&gt;DATA_CHANNEL_TYPE.MESSAGING&lt;/code&gt;)
 *   which only allows one data transfer at a time.
 * - If the &lt;a href=&quot;#event_dataChannelState&quot;&gt;DataChannel connection state&lt;/a&gt; for this
 *   transfer is not &lt;code&gt;OPEN&lt;/code&gt;, the data transfer will not proceed and if caught
 *   with an exception, transfers will fail.
 * @class Skylink
 * @constructor
 * @example
 *   // Here&#x27;s a simple example on how you can start using Skylink
 *   var SkylinkDemo = new Skylink();
 *
 *   // Subscribe all events first before init()
 *   SkylinkDemo.on(&quot;incomingStream&quot;, function (peerId, stream, peerInfo, isSelf) {
 *     if (isSelf) {
 *       attachMediaStream(document.getElementById(&quot;selfVideo&quot;), stream);
 *     } else {
 *       var peerVideo = document.createElement(&quot;video&quot;);
 *       peerVideo.id = peerId;
 *       peerVideo.autoplay = &quot;autoplay&quot;;
 *       document.getElementById(&quot;peersVideo&quot;).appendChild(peerVideo);
 *       attachMediaStream(peerVideo, stream);
 *     }
 *   });
 *
 *   SkylinkDemo.on(&quot;peerLeft&quot;, function (peerId, peerInfo, isSelf) {
 *     if (!isSelf) {
 *       var peerVideo = document.getElementById(peerId);
 *       // do a check if peerVideo exists first
 *       if (peerVideo) {
 *         document.getElementById(&quot;peersVideo&quot;).removeChild(peerVideo);
 *       } else {
 *         console.error(&quot;Peer video for &quot; + peerId + &quot; is not found.&quot;);
 *       }
 *     }
 *   });
 *
 *  // never call joinRoom in readyStateChange event subscription.
 *  // call joinRoom after init() callback if you want to joinRoom instantly.
 *  SkylinkDemo.on(&quot;readyStateChange&quot;, function (state, room) {
 *    console.log(&quot;Room (&quot; + room + &quot;) state: &quot;, room);
 *  })
 *
 *  // always remember to call init()
 *  SkylinkDemo.init(&quot;YOUR_APP_KEY_HERE&quot;, function (error, success) {
 *    // do a check for error or success
 *    if (error) {
 *      console.error(&quot;Init failed: &quot;, error);
 *    } else {
 *      SkylinkDemo.joinRoom(&quot;my_room&quot;, {
 *        userData: &quot;My Username&quot;,
 *        audio: true,
 *        video: true
 *      });
 *    }
 *  });
 * @for Skylink
 * @since 0.5.0
 */
function Skylink() {
  if (!(this instanceof Skylink)) {
    return new Skylink();
  }

  /**
   * The current version of Skylink Web SDK.
   * @attribute VERSION
   * @type String
   * @readOnly
   * @for Skylink
   * @since 0.1.0
   */
  this.VERSION = &#x27;@@version&#x27;;

  /**
   * Helper function that generates an Unique ID (UUID) string.
   * @method generateUUID
   * @return {String} Generated Unique ID (UUID) string.
   * @example
   *    // Get Unique ID (UUID)
   *    var uuid = SkylinkDemo.generateUUID();
   * @for Skylink
   * @since 0.5.9
   */
  this.generateUUID = function() {
    var d = new Date().getTime();
    var uuid = &#x27;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&#x27;.replace(/[xy]/g, function(c) {
      var r = (d + Math.random() * 16) % 16 | 0;
      d = Math.floor(d / 16);
      return (c == &#x27;x&#x27; ? r : (r &amp; 0x7 | 0x8)).toString(16);
    });
    return uuid;
  };
}
this.Skylink = Skylink;

    </pre>
</div>

                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
